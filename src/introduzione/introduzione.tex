\newcommand{\percc}[1]{$#1$\%}

\chapter{Introduzione}

%Verrà indicato l'obbiettivo: 
%Sviluppare un sistema di classificazione software basato sulle sequenze di chiamate api attraverso
%tecniche di machine learning.

%Verrà esplicitato il mio contributo: indicare la raccolta dei vari dataset, standardizzazione di essi per fornire un input comune
%all'applicativo python per la classificazione delle sequenze di chiamate api progettato in OOP\@

Con l'avvento dell'era digitale, sempre più attività e servizi sono migrati verso il mondo online: \
dall' e-commerce alla pubblica amministrazione, fino ai servizi finanziari e sanitari.\
In italia, secondo i dati ISTAT,l'\percc{86,2} delle famiglie italiane dispone \
di un accesso ad internet a testimonianza di un uso sempre più popolare\cite{istat.internet-usage}.

Tuttavia, l'aumento della connettività comporta inevitabilmente anche una maggiore esposizione alle minacce \
informatiche. Nel 2024, l'Italia ha registrato il \percc{10} degli attacchi informatici\
globali; secondo il rapporto Clusit, circa un terzo di tali attacchi è stato veicolato tramite\
l'utilizzo di malware\cite{clusit.italy-malware}.

Per malware si intende un istanza di un programma il cui intento sia malevole \
come carpire informazioni personali e/o arrecare danni ai dispositivi\cite{idika2007survey}.

Per poter identificare i malware esistono due tipi di analisi: statica e dinamica.
L'analisi statica prevede l'analisi del codice binario, analizzando ogni ramo di esecuzione possibile alla ricerca\
di codice malevolo.\
L'analisi dinamica invece prevede l'esecuzione del programma cercando di identificare un insieme di comportamenti\
noti tra i malware\cite{doi:10.1155/2015/659101}.\

Per comportamenti intendiamo l'insieme (ordinato) delle chiamate Api al Kernel per permettere l'esecuzione dell'applicativo.\
Un singolo \myquote{comportamento} è effettivamente la singola chiamata Api prendendo il nome di \myquote{Api Call}; mentre la lista (ordinata)\
prende il nome \myquote{API call sequence}\cite{6680850}.

L'obbiettivo di questo caso di studio è di poter classificare un programma in base ai suoi comportamenti.\
Per raggiungere tale scopo sono stati raccolti diversi dataset di sequenza di chiamate api sul sistema operativo Windows ed è stato\
progettato e idealizzato un applicativo python (seguendo il paradigma \textit{OOP}) che attraverso \
algoritmi di machine-learning riesca a classificare un programma in base alla sua sequenza di chiamate api.

\section{Formato Windows PE malware}

Per poter eseguire un programma in \texttt{Microsoft Windows}, la logica applicativa deve essere interpretabile dal sistema operativo.\
Il formato che mette a disposizione il sistema operativo \texttt{Microsoft Windows} è \texttt{PE} (Portable Executable), denominato cosi poiche\
si riferisce che il formato non è specifico dell'architettura\cite{Microsoft-PE}.

Un file in formato \textbf{PE} ha nel seguente ordine le seguenti intestazioni:

\begin{itemize}
      \item \textbf{Stub MS-DOS}: area iniziale del file PE, compatibile con il sottosistema \texttt{MS-DOS}.
            In assenza di istruzioni specifiche da parte dello sviluppatore, contiene un programma di default che
            visualizza il messaggio: \myquote{Impossibile eseguire questo programma in modalità DOS}.
      \item \textbf{Firma PE}: campo che identifica il file come appartenente al formato \textbf{Portable Executable (PE)}
            e ne consente il corretto riconoscimento da parte del loader di Windows.
      \item \textbf{Intestazione COFF}: fornisce informazioni fondamentali sul file, come il tipo di macchina su cui è
            destinato a essere eseguito, il numero di sezioni e la data di compilazione.

      \item \textbf{Intestazione facoltativa (solo immagine)}: sezione che specifica le informazioni necessarie al
            caricamento ed esecuzione del programma. È composta da tre sottosezioni principali:
            \begin{itemize}
                  \item \textbf{Campi standard intestazione facoltativi }: includono l'indirizzo di entry point del programma, la dimensione del codice
                        e dei dati, e altri parametri di base.

                  \item \textbf{Campi specifici dell'intestazione facoltativa di Windows}: contengono informazioni più dettagliate, come la versione
                        minima del sistema operativo richiesto, le dimensioni massime di heap e stack, e i valori di allineamento.

                  \item \textbf{Directory dati intestazione facoltative}: riferimenti alle tabelle e alla loro dimensione delle risorse esterne come le \textbf{ddl}.
            \end{itemize}
\end{itemize}

Una \textbf{DDL} è una libreria che contiene codice e dati utilizzabili da più di un programma contemporaneamente.\
Ogni programma può utilizzare le \texttt{DDL} del sistema operativo windows per ottenere memoria, accesso a risorse,\
far apparire elementi a schermo ed accedere alla rete\cite{Microsoft-DLL}.

I malware utilizzano queste librerie per poter eseguire comportamenti malevoli.

\section{Categorie Malware}

I malware, in base al risultato delle loro azioni, assumono un nome più specifico. Nel nostro caso di studio sono state ritrovate le seguenti specializzazioni:
\begin{itemize}
      \item \textbf{Unknown}: Applicazione di cui non si conosce se il suo intento sia malevolo o no.
      \item \textbf{Goodware}: Applicazione benevola; non ha nessun obbiettivo di danneggiare l'utente.
      \item \textbf{Malware}: Appellativo generico per malware in caso in cui non si riesca effettivamente a discriminare l'esito delle sue azioni.
      \item \textbf{Backdoor}: Applicazione che ha come scopo quello di fornire accesso alla macchina attaccata all'attaccante\cite{Kaspersky-malware_backdoor}.
      \item \textbf{Trojan}: Software il cui scopo è quello di modificare, bloccare o cancellare dati esistenti\cite{Cisco-Malware_Taxonomy}.
      \item \textbf{Virus}: Applicazione disegnata per diffondersi su più host; ha come scopo quello di interrompere il normale funzionamento della macchina host\cite{Cisco-Malware_Taxonomy}.
      \item \textbf{Worm}: Si comportano come i virus ma non hanno bisogno di essere eseguiti manualmente sulla macchina obbiettivo\cite{Cisco-Malware_Taxonomy}.
      \item \textbf{Dropper}: Applicazione che ha come scopo quella di far scaricare altri software malevoli\cite{Kaspersky-malware_dropper}.
      \item \textbf{Spyware}: Applicazione che ha come compito di carpire dati sensibili sulla macchina host e riportare tali dati sulla macchina disegnata\cite{Cisco-Malware_Taxonomy}.
      \item \textbf{Adware}: Applicazione che ha come scopo capire le abitudini dell'utente per propinare pubblicità mirata; possono anche deviare la navigazione\
            web su determinati siti esca\cite{Cisco-Malware_Taxonomy}.
      \item \textbf{Packed}: Malware che è stato compresso almeno una volta per eludere i controlli antivirus\cite{Kaspersky-malware_MultiPacked}.
\end{itemize}

\section{Chiamata Api Windows}

%Dettagliare una chiamata api di windows.

\section{Contributi}

%Descrivere l'organizzazione della tesi in capitoli e riassumere il contenuto di ogni capitolo.